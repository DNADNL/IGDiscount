<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Orders pending</title>

    <link rel="import" href="/assets/html/header.html">

</head>
<body ng-app="app" ng-controller="listProduct">

<div id="headtitle" ng-controller="headerController"></div>
<div id="navbar"></div>

<div class="row">
    <div class="box">
        <div class="col-lg-12">
            <hr>
            <h2 class="intro-text text-center">Orders pending</h2>
            <hr>
            <div class="form-group">
                <label>Group by</label>
                <select class="form-control" name="group" ng-model="groupProperty">
                    <option value="">No group</option>
                    <option value="name">Name</option>
                    <option value="customer">Customer</option>
                </select>
            </div>
            <table st-table="displayedCollection" st-safe-src="orderRows" class="table table-striped">
                <span us-spinner="{radius:30, width:8, length: 16}" spinner-key="spinner-1"></span>
                <thead>
                <tr>
                    <th>Image</th>
                    <th st-sort="customer">Customer</th>
                    <th st-sort="name">Name</th>
                    <th st-sort="price">Price</th>
                    <th st-sort="quantity">Quantity</th>
                    <th st-sort="state">State</th>
                    <th st-sort="date">Date</th>
                    <th>Mark confirmed</th>
                    <th>Mark cancelled</th>
                    <th>Mark shipped</th>
                </tr>
                <tr>
                    <th></th>
                    <th>
                        <input st-search="seller" placeholder="Search for seller" class="input-sm form-control" type="search"/>
                    </th>
                    <th>
                        <input st-search="name" placeholder="Search for name" class="input-sm form-control" type="search"/>
                    </th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody ng-if="!mc.isLoading" ng-repeat="(key, value) in displayedCollection | groupBy: groupProperty">
                <tr ng-if="key !== 'undefined'" class="text-center text-uppercase">
                    <td colspan="10">{{key}}  <button class="btn btn-success" ng-if="groupProperty=='customer'" ng-click="confirmAll(value)">Confirm all</button></td>
                </tr>
                <tr ng-repeat="row in value" ng-click="show($index)">
                    <td class="col-md-2"><img ng-src="{{row.image}}" class="img-responsive"></td>
                    <td>{{row.customer}}</td>
                    <td>{{row.name}}</td>
                    <td>{{row.price}} â‚¬</td>
                    <td>{{row.quantity}} / {{row.quantityMax}}</td>
                    <td>{{row.state}}</td>
                    <td>{{row.date}}</td>
                    <td>
                        <button ng-disabled="row.state != 'Pending'" type="button" ng-click="confirm(row)" class="btn btn-sm btn-success">
                            <i class="glyphicon glyphicon-ok">
                            </i>
                        </button>
                    </td>
                    <td>
                        <button ng-disabled="row.state != 'Pending'" type="button" ng-click="cancel(row)" class="btn btn-sm btn-danger">
                            <i class="glyphicon glyphicon-remove-circle">
                            </i>
                        </button>
                    </td>
                    <td>
                        <button ng-disabled="row.state != 'Paid'" type="button" ng-click="ship(row)" class="btn btn-sm btn-success">
                            <i class="glyphicon glyphicon-ok">
                            </i>
                        </button>
                    </td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td class="text-center" st-pagination="" st-items-by-page="10" colspan="5">
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>

<div id="footer"></div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-2.2.3.min.js"   integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="   crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"   integrity="sha256-DI6NdAhhFRnO2k51mumYeDShet3I8AKCQf/tf7ARNhI="   crossorigin="anonymous"></script>

<!-- Bootstrap Core JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
<script src="/lib/jquery.cookie.js"></script>
<script src="/lib/angular-ui-notification.min.js"></script>
<script src="/lib/spin.min.js"></script>
<script src="/lib/smart-table.min.js"></script>
<script src="/lib/angular-spinner.js"></script>
<script src="/lib/angular-filter.min.js"></script>
<script src="/js/facebookService.js"></script>
<script src="/js/app.js"></script>
<script src="/js/oauth.js"></script>
<script src="/js/header.js"></script>
<script src="/js/orderPending.js"></script>

<script>
        $( "#headtitle" ).load( "/assets/html/headtitle.html" );
        $( "#footer" ).load( "/assets/html/footer.html" );
    </script>
</body>
</html>